sequenceDiagram
    autonumber
    participant A as Angular UI
    participant SC as Controller
    participant SM as Manager
    participant SD as DAO
    participant SU as Utility

    Note over A, SU: User Login
    A->>SC: POST /login (username, password)
    SC->>SM: verify user credentials (username, password)
    SM->>+SD: fetch user from DB (username)
    alt user found
        SD-->>SM: return new User() object
        SM->>+SU:  calculate Hash (password)
        SU-->>-SM: return hash
        alt both password-hash and hash from user object are equal
            SM-->>SC: create and return new JWT
            SC-->>A: redir to /home with JWT
        else
            SM-->>SC: throw new InvalidUserException()
            SC-->>A: HTTP 401 Unauthorized
        end
    else
        SD-->>-SM: throw new UserNotFoundException()
        SM-->>SC: throw new UserNotFoundException()
        SC-->>A: HTTP 401 Unauthorized
    end